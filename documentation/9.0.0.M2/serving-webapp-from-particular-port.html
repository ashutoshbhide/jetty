<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Serving a WebApp from a Particular Port</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="jetty, servlet-api, cometd, http, spdy, eclipse, maven, java, software"><link rel="home" href="index.html" title="Jetty : The Definitive Reference"><link rel="up" href="configuring-contexts.html" title="Chapter&nbsp;4.&nbsp;Configuring Contexts"><link rel="prev" href="custom-error-pages.html" title="Creating Custom Error Pages"><link rel="next" href="configuring-deployment.html" title="Chapter&nbsp;5.&nbsp;Deploying Jetty"><link xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" rel="shortcut icon" href="images/favicon.ico"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><center xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0"><a href="http://www.eclipse.org/jetty"><img src="images/jetty-logo.svg" width="80"></a></center><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Serving a WebApp from a Particular Port</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="custom-error-pages.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;4.&nbsp;Configuring Contexts</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="configuring-deployment.html">Next</a></td></tr></table><hr></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-variant: small-caps; font-weight: bold"><a href="http://www.webtide.com/support.jsp" style="text-decoration:none">Contact the core Jetty developers at
          <span style="color:#fd360b"> www.webtide.com</span></a></span><br><span style="font-style:oblique;font-size: 80%">
 private support for your internal/customer projects ... custom extensions and distributions ... versioned snapshots for indefinite support ...
 scalability guidance for your apps and Ajax/Comet projects ... development services from 1 day to full product delivery
    </span></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="serving-webapp-from-particular-port"></a>Serving a WebApp from a Particular Port</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="serving-webapp-from-particular-port.html#creating-server-instances">Creating Server Instances</a></span></dt><dt><span class="section"><a href="serving-webapp-from-particular-port.html#creating-context-files">Creating Context Files</a></span></dt><dt><span class="section"><a href="serving-webapp-from-particular-port.html#alternative">An Alternative</a></span></dt></dl></div><p>You might need to serve webapp A only from port A and webapp B only from port B. The most efficient way to do
  this is with two <code class="code">org.eclipse.jetty.server.Server</code> instances. There is also another, slightly less
  efficient <a class="xref" href="serving-webapp-from-particular-port.html#alternative" title="An Alternative">An Alternative</a>.</p><p>Server instance A has a connector listening on port A with webapp A defined, and Server instance B has webapp B
  and a connector listening on port B defined. For example:</p><p>You want to serve webapp A from port 8080, and webapp B from an SSL connector on port 8443. This involves
  setting up two Server instances and two context files.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="creating-server-instances"></a>Creating Server Instances</h3></div></div></div><p>You set up two Server instances, each in its own <code class="filename">jetty.xml</code> file.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="jettya.xml"></a>Creating <code class="filename">jettyA.xml</code></h4></div></div></div><p>The Server instance example for JettyA follows:</p><div class="informalexample"><pre class="programlisting">

<strong class="hl-tag" style="color: #000096">&lt;Configure</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"ServerA"</span> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Server"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>

    <em class="hl-comment" style="color: silver">&lt;!-- set up the port for ServerA --&gt;</em>
    <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"connectors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Array</strong> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Connector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.nio.SelectChannelConnector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"port"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>8080<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"maxIdleTime"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>30000<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Acceptors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>10<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Array&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>

   <em class="hl-comment" style="color: silver">&lt;!-- set up a context provider for Server A --&gt;</em>
    <strong class="hl-tag" style="color: #000096">&lt;Call</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"addLifeCycle"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Arg&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.deploy.providers.ContextProvider"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contexts"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;Ref</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"Contexts"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"configurationDir"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span> <span class="hl-attribute" style="color: #F5844C">default</span>=<span class="hl-value" style="color: #993300">"."</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/contextsA<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"scanInterval"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>5<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Arg&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Call&gt;</strong>

<strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="jettyb.xml"></a>Creating <code class="filename">jettyB.xml</code></h4></div></div></div><p>The Server instance example for JettyB follows:</p><div class="informalexample"><pre class="programlisting">

<strong class="hl-tag" style="color: #000096">&lt;source</strong> <span class="hl-attribute" style="color: #F5844C">lang</span>=<span class="hl-value" style="color: #993300">xml</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;Configure</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"ServerB"</span> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Server"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>

    <em class="hl-comment" style="color: silver">&lt;!-- set up the port for ServerB --&gt;</em>
    <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"connectors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Array</strong> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Connector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.ssl.SslSocketConnector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Port"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>8443<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"maxIdleTime"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>30000<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Keystore"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span> <span class="hl-attribute" style="color: #F5844C">default</span>=<span class="hl-value" style="color: #993300">"."</span><strong class="hl-tag" style="color: #000096"> /&gt;</strong>/etc/keystore<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Password"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>OBF:1vny1zlo1x8e1vnw1vn61x8g1zlu1vn4<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"KeyPassword"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>OBF:1u2u1wml1z7s1z7a1wnl1u2g<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Array&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>

     <em class="hl-comment" style="color: silver">&lt;!-- set up a context provider for ServerB --&gt;</em>
      <strong class="hl-tag" style="color: #000096">&lt;Arg&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.deploy.providers.ContextProvider"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contexts"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;Ref</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"Contexts"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"configurationDir"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span> <span class="hl-attribute" style="color: #F5844C">default</span>=<span class="hl-value" style="color: #993300">"."</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/contextsB<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"scanInterval"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>5<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Arg&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Call&gt;</strong>

<strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="creating-context-files"></a>Creating Context Files</h3></div></div></div><p>Now you need to set up two context files, one to describe the webapp you want to deploy on Server A and the
    other for the webapp to deploy on Server B. You then put these files into <code class="code">$JETTY_HOME/contextsA</code> or
    <code class="code">$JETTY_HOME/contextsB</code> respectively.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="creating-contexta"></a>Creating ContextA</h4></div></div></div><p>The example <code class="filename">contextA.xml</code> file follows:</p><div class="informalexample"><pre class="programlisting">

    <strong class="hl-tag" style="color: #000096">&lt;Configure</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.webapp.WebAppContext"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"war"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/webapps/A<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contextPath"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>/webappA<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
       ...
    <strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="creating-contextb"></a>Creating ContextB</h4></div></div></div><p>The example <code class="filename">contextB.xml</code> file follows:</p><div class="informalexample"><pre class="programlisting">

    <strong class="hl-tag" style="color: #000096">&lt;Configure</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.webapp.WebAppContext"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"war"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/webapps/B<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contextPath"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>/webappB<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
       ...
    <strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><p>You run both Server instances in the same JVM by providing them both on the runline:</p><pre class="screen">

java -jar start.jar jettyA.xml jettyB.xml

    </pre><p>Of course, you could also start two separate Jetty instances, one with <code class="filename">jettyA.xml</code> and
    the other with <code class="filename">jettyB.xml</code>. However, it is usually more efficient to run both Servers in the
    same JVM.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="alternative"></a>An Alternative</h3></div></div></div><p>There is also an alternative way to achieve the same result as above, however it is slightly less efficient.
    It involves setting the list of connectors on a webapp from which it accepts requests. This is a less efficient
    solution than the one described above because the request is presented to each webapp, which then must decide to
    accept it or not. In the first solution, only one webapp is ever passed the request. In this alternate
    configuration, you only need a single Server instance. You define each of the connectors with a unique name, and
    then assign each webapp a list of connector names to which it should respond.</p><p>This alternative requires a <code class="filename">jetty.xml</code> file and two context files.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="creating-jetty.xml-file"></a>Creating a <code class="filename">jetty.xml</code> File</h4></div></div></div><p>The example <code class="filename">jetty.xml</code> follows:</p><div class="informalexample"><pre class="programlisting">

<strong class="hl-tag" style="color: #000096">&lt;Configure</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Server"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>

    <em class="hl-comment" style="color: silver">&lt;!-- set up both connectors --&gt;</em>
    <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"connectors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Array</strong> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.Connector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;New</strong>  <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.nio.SelectChannelConnector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"port"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>8080<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"maxIdleTime"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>30000<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Acceptors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>1<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"name"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>connA<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"connB"</span> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.server.nio.SelectChannelConnector"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"port"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>9090<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"maxIdleTime"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>30000<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"Acceptors"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>1<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>            
            <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"name"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>connB<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Array&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>

     <em class="hl-comment" style="color: silver">&lt;!-- set up a context provider --&gt;</em>
      <strong class="hl-tag" style="color: #000096">&lt;Arg&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;New</strong> <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.deploy.providers.ContextProvider"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contexts"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;Ref</strong> <span class="hl-attribute" style="color: #F5844C">id</span>=<span class="hl-value" style="color: #993300">"Contexts"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"configurationDir"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span> <span class="hl-attribute" style="color: #F5844C">default</span>=<span class="hl-value" style="color: #993300">"."</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/contexts<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"scanInterval"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>5<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/New&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Arg&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Call&gt;</strong>
<strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="creating-alt-contexta"></a>Creating ContextA</h4></div></div></div><p>The example <code class="filename">contexta.xml</code> follows:</p><div class="informalexample"><pre class="programlisting">

    <strong class="hl-tag" style="color: #000096">&lt;Configure</strong>  <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.webapp.WebAppContext"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>      
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"war"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/webapps/A<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contextPath"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>/webappA<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"connectorNames"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Array</strong> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"String"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>connA<strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Array&gt;</strong>
       <strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      ...
    <strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="creating-alt-contextb"></a>Creating ContextB</h4></div></div></div><p>The example <code class="filename">contextb.xml</code> follows:</p><div class="informalexample"><pre class="programlisting">

    <strong class="hl-tag" style="color: #000096">&lt;Configure</strong>  <span class="hl-attribute" style="color: #F5844C">class</span>=<span class="hl-value" style="color: #993300">"org.eclipse.jetty.webapp.WebAppContext"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"war"</span><strong class="hl-tag" style="color: #000096">&gt;</strong><strong class="hl-tag" style="color: #000096">&lt;SystemProperty</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"jetty.home"</span><strong class="hl-tag" style="color: #000096">/&gt;</strong>/webapps/B<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"contextPath"</span><strong class="hl-tag" style="color: #000096">/w</strong>ebappB<strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;Set</strong> <span class="hl-attribute" style="color: #F5844C">name</span>=<span class="hl-value" style="color: #993300">"connectorNames"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;Array</strong> <span class="hl-attribute" style="color: #F5844C">type</span>=<span class="hl-value" style="color: #993300">"String"</span><strong class="hl-tag" style="color: #000096">&gt;</strong>
          <strong class="hl-tag" style="color: #000096">&lt;Item&gt;</strong>connB<strong class="hl-tag" style="color: #000096">&lt;/Item&gt;</strong>
        <strong class="hl-tag" style="color: #000096">&lt;/Array&gt;</strong>
      <strong class="hl-tag" style="color: #000096">&lt;/Set&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;/Configure&gt;</strong>

        </pre></div></div><p>Now start jetty as usual (if your Server config file is called <code class="filename">jetty.xml</code> you can omit it
    from the run line):</p><pre class="screen">

java -jar start.jar

    </pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="custom-error-pages.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="configuring-contexts.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="configuring-deployment.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Creating Custom Error Pages&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;5.&nbsp;Deploying Jetty</td></tr></table></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-style:oblique;font-size: 80%">
See an error or something missing?<br></span><span style="font-variant: small-caps; font-weight: bold"><a href="http://github.com/jetty-project/jetty-documentation" style="text-decoration:none">Contribute to this documentation at 
          <span style="color:#fd360b"> Github!</span></a></span><br></div></body></html>