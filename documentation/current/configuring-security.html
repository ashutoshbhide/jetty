<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;10.&nbsp;Security Topics</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><style type="text/css">
body { background-image: url('images/draft-ribbon.png');
       background-repeat: no-repeat;
       background-position: top left;
       /* The following properties make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
       /* background-position: center center; */
     }</style><meta name="keywords" content="jetty, servlet-api, cometd, http, spdy, eclipse, maven, java, software"><link rel="home" href="index.html" title="Jetty : The Definitive Reference"><link rel="up" href="configuring.html" title="Part&nbsp;II.&nbsp;Jetty Configuration Guide"><link rel="prev" href="configuring-websockets.html" title="Chapter&nbsp;9.&nbsp;Configuring WebSockets"><link rel="next" href="advanced.html" title="Part&nbsp;III.&nbsp;Advanced Topics Guide"><link xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" rel="shortcut icon" href="images/favicon.ico"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><center xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0"><a href="http://www.eclipse.org/jetty"><img src="images/jetty-logo.svg" width="80"></a></center><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;10.&nbsp;Security Topics</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configuring-websockets.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;Jetty Configuration Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="advanced.html">Next</a></td></tr></table><hr></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-variant: small-caps; font-weight: bold"><a href="http://www.webtide.com/support.jsp" style="text-decoration:none">Contact the core Jetty developers at
          <span style="color:#fd360b"> www.webtide.com</span></a></span><br><span style="font-style:oblique;font-size: 80%">
 private support for your internal/customer projects ... custom extensions and distributions ... versioned snapshots for indefinite support ...
 scalability guidance for your apps and Ajax/Comet projects ... development services from 1 day to full product delivery
    </span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="configuring-security"></a>Chapter&nbsp;10.&nbsp;Security Topics</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="configuring-security.html#serving-aliased-files">Aliased Files</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="serving-aliased-files"></a>Aliased Files</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="configuring-security.html#d0e4976">Alias detection</a></span></dt><dt><span class="section"><a href="configuring-security.html#d0e4999">Alias serving</a></span></dt></dl></div><p>There are two aspects to serving aliased files with Jetty: alias detection and alias serving.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4976"></a>Alias detection</h3></div></div></div><p>Jetty runs in a mode where all file accesses are checked for aliases, such as case insensitivity, short
    names, symbolic links and extra characters (Eg %00).</p><p>Alias requests are a security problem because web application security constraints are applied with case
    sensitive URL patterns. For example, if a security constraint is place on a /mySecretFolder/* and alias checking
    was not implemented then on a win32 system the following requests could retrieve files from that URL:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>/MySeCrEtFoLdEr/secret.html</p></li><li class="listitem"><p>/mysec~a0.dir/secret.html</p></li><li class="listitem"><p>/mySecretFolder/secret.html%00</p></li></ul></div><p>File name aliases come in many forms including case insensitivity, VMS version numbers, Unix symbolic links,
    8.3 short names, etc. While some of these aliases (eg symbolic links) are deliberate, there is no general way to
    tell this in portable 100% java.</p><p>Jetty detects aliases by comparing the file's absolutePath with its canonicalPath.</p><p>Alias detection can be turned off by setting the System Property
    org.eclipse.jetty.util.FileResource.checkAliases to false. If alias checking is not used, then greater care is
    needed when designing security constraints. It is recommended that a restrictive constraint be applied to a whole
    subtree of URL space and then selective constraints be applied to relax security only for specific URLs.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4999"></a>Alias serving</h3></div></div></div><p>By default, Jetty checks for alias and disallows the serving of aliased files. If instead you wish to allow
    aliased files to be served, then you set the &lt;init-param&gt; called "aliases" to "true" for the
    org.eclipse.jetty.servlet.DefaultServlet in webdefault.xml:</p><div class="informalexample"><pre class="programlisting">
 
<strong class="hl-tag" style="color: #000096">&lt;servlet&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;servlet-name&gt;</strong>DefaultServlet<strong class="hl-tag" style="color: #000096">&lt;/servlet-name&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;servlet-class&gt;</strong>org.eclipse.jetty.servlet.DefaultServlet<strong class="hl-tag" style="color: #000096">&lt;/servlet-class&gt;</strong>
  . . .
  <strong class="hl-tag" style="color: #000096">&lt;init-param&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;param-name&gt;</strong>aliases<strong class="hl-tag" style="color: #000096">&lt;/param-name&gt;</strong>
    <strong class="hl-tag" style="color: #000096">&lt;param-value&gt;</strong>true<strong class="hl-tag" style="color: #000096">&lt;/param-value&gt;</strong>
  <strong class="hl-tag" style="color: #000096">&lt;/init-param&gt;</strong>
  . . .
<strong class="hl-tag" style="color: #000096">&lt;sevlet&gt;</strong>

      </pre></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configuring-websockets.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="configuring.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="advanced.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;9.&nbsp;Configuring WebSockets&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Part&nbsp;III.&nbsp;Advanced Topics Guide</td></tr></table></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-style:oblique;font-size: 80%">
See an error or something missing?<br></span><span style="font-variant: small-caps; font-weight: bold"><a href="http://github.com/jetty-project/jetty-documentation" style="text-decoration:none">Contribute to this documentation at 
          <span style="color:#fd360b"> Github!</span></a></span><br></div></body></html>