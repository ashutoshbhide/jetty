<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Documentation</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="jetty, servlet-api, cometd, http, spdy, eclipse, maven, java, software"><link rel="home" href="index.html" title="Jetty : The Definitive Reference"><link rel="up" href="advanced-contributing.html" title="Chapter&nbsp;25.&nbsp;Contributing to Jetty"><link rel="prev" href="community.html" title="Community"><link rel="next" href="coding-standards.html" title="Coding Standards"><link xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" rel="shortcut icon" href="images/favicon.ico"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><center xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0"><a href="http://www.eclipse.org/jetty"><img src="images/jetty-logo.svg" width="80"></a></center><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Documentation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="community.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;25.&nbsp;Contributing to Jetty</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="coding-standards.html">Next</a></td></tr></table><hr></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-variant: small-caps; font-weight: bold"><a href="http://www.webtide.com/support.jsp" style="text-decoration:none">Contact the core Jetty developers at
          <span style="color:#fd360b"> www.webtide.com</span></a></span><br><span style="font-style:oblique;font-size: 80%">
 private support for your internal/customer projects ... custom extensions and distributions ... versioned snapshots for indefinite support ...
 scalability guidance for your apps and Ajax/Comet projects ... development services from 1 day to full product delivery
    </span></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="contributing-documentation"></a>Documentation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="contributing-documentation.html#d0e8790">Tools</a></span></dt><dt><span class="section"><a href="contributing-documentation.html#d0e8814">Getting Started (cli)</a></span></dt><dt><span class="section"><a href="contributing-documentation.html#d0e8842">Making Changes</a></span></dt><dt><span class="section"><a href="contributing-documentation.html#d0e8864">Conventions</a></span></dt></dl></div><p>This document is produced using a combination of maven, git, and docbook. We welcome anyone and everyone to
  contribute to the content of this book. Below is the information on how to obtain the source of this book and to
  build it as well as information on how to contribute back to it.</p><p>Note: All contributions to this documentation are under the EPL and the copyright is assigned to
  Mortbay.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8790"></a>Tools</h3></div></div></div><p>You will need:</p><div class="variablelist"><dl><dt><span class="term">git</span></dt><dd><p>This project is located at github so if you do not have a GitHub account already you should register
          for one. You can do that at <a class="link" href="https://github.com" target="_top">Github</a></p><p>You can go one of two ways for using git, if you are familiar with SCM's and the command line interface
          then feel free to install and use git from there. Otherwise we would recommend you use the github client
          itself as it will help with some of the workflow involved with working with git.</p></dd><dt><span class="term">maven 3</span></dt><dd><p>We build the project with maven 3 which can be found at <a class="link" href="http://maven.apache.org" target="_top">Apache
          Maven</a></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8814"></a>Getting Started (cli)</h3></div></div></div><p>First you need to obtain the source of the documentation project.</p><p>Clone the repository:</p><pre class="screen">

$ git clone git@github.com:jetty-project/jetty-documentation.git
      
    </pre><p>You will now have a local directory with all of the jetty-documentation. Now we move on to building
    it.</p><pre class="screen">

$ cd jetty-documentation 
$ mvn install

    </pre><p>While maven is running you may see a lot of files being downloaded. If you are not familiar with maven, then
    what you are seeing is maven setting up the execution environment for generating the documentation. This build
    should produce xhtml, as well as any other output formats that we are working with as time goes on. The downloads
    are all of the java dependencies that are required to make this while build work. After a while the downloading
    will stop and you'll see the execution of the docbkx-maven-plugin.</p><pre class="screen">

[INFO] --- docbkx-maven-plugin:2.0.13:generate-xhtml (documentation identifier) @ jetty-documentation ---
[INFO] Processing input file: jetty.xml
[INFO] Dumping to /home/jesse/src/projects/jetty/jetty-documentation/target/docbkx/generated/(gen)jetty.xml
[INFO] Applying customization parameters
[INFO] Chunking output. &amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;
[INFO] See /home/jesse/src/projects/jetty/jetty-documentation/target/docbkx/xhtml/jetty for generated file(s)
[INFO] Executing tasks
[INFO] Executed tasks

    </pre><p>The build is finished once you see a message akin to this:</p><pre class="screen">

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.014s
[INFO] Finished at: Tue Oct 25 14:15:37 CDT 2011
[INFO] Final Memory: 14M/229M
[INFO] ------------------------------------------------------------------------

    </pre><p>You may now open your web browser and browse to the first page of the html output to see what you have
    produced! Generally you can do this with File -&gt; Open File -&gt; which will open a file system browsing screen,
    navigate to your jetty-documentation directory and then further into target/docbkx/xhtml/jetty/jetty.html which is
    the first page of the produced documentation.</p><p>
      <span class="emphasis"><em>Note: if the build is broke, feel free to notify us.</em></span>
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8842"></a>Making Changes</h3></div></div></div><p>Now that you have built the documentation, you want to edit it and make some changes. We'll now have to take
    a bit of as step back and look at how git and github works. In the above example you have cloned directly from our
    canonical documentation repository. Obviously we can not allow anyone immediate access to this repository so you
    must make a fork of it for your own and then issue back pull requests to build up documentation karma. In english
    that means that you would go to the url of the documentation in github:</p><p>
      </p><pre class="screen">https://github.com/jetty-project/jetty-documentation</pre><p>
    </p><p>When your on this page you will see a little button called 'Fork' which you can click and you'll suddenly be
    taking back to your main page on github where you have a new repository. When you checkout this repository you are
    free to commit to your hearts delight all the changes you so direly wish to see in the jetty documentation. You can
    clone it to your local machine and build it same as above. So lets start small with a little example. Find some
    paragraph in the documentation that you think needs changed. Located that in the local checkout and make the
    change. Now we follow the process to push that change back into jetty proper. Do make sure the change works and the
    build isn't broken though so make sure you run maven and check the output. Then commit the change.</p><pre class="screen">

$ git commit -m "Tweaked the introduction to fix a horrid misspelled word." src/docbkbx/topics/introduction/topic.xml

    </pre><p>This will commit the change that you made into git which means that now git knows about the change is you now
    want to push that change up to your repository on github.</p><pre class="screen">

$ git push

    </pre><p>Now you'll see some output showing that your change has been migrated to up your repository on github. In
    fact if you navigate to that repository at the top of the files list you should see your comment there. Success,
    your change is now positioned for notifying us about it! If you click on the commit message itself you'll be taken
    to a screen that shows what files where changed in that commit. In the upper right corner is a button for 'Pull
    Request'. When you select this and follow the workflow we will then be notified of your contribution and will be
    able to apply it to our git repository upon review.</p><p>Thats it! You have successfully contributed to the documentation efforts of the Jetty project. After enough
    of these sorts of contributions and building up good community karma, you may be asked to join us as a commiter on
    the documentation.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8864"></a>Conventions</h3></div></div></div><p>Below is list of conventions that should be followed when developing documentation within this framework.
    These are not set in stone and should be updated as we learn more.</p><div class="variablelist"><dl><dt><span class="term">build before committing</span></dt><dd><p>We have an xmlfresh maven plugin that reformats the code to the standards for the project. This is to
          prevent wide spread merge conflict between commits. The line wrap is set to 120 and the indent is 2 spaces,
          never tab characters. There are a handful of tags that render inline to the para tags, these are found in the
          maven configuration of the xmlfresh-maven-plugin.</p></dd><dt><span class="term">xml:id</span></dt><dd><p>Critically important for being able to generate url's that can be used in a persistent fashion. Without
          xml:id's the chapters and sections will have generated id which are rooting in obscure location based voodoo.
          A url using these 'e12c8673' type links will not be durable across generations of the documentation. These
          xml:id's need to be used on chapters and sections two deep, and anywhere that you intend to cross link
          deeper.</p><p>The xml:id values go into a global namespace so they must be unique across the entire document or the
          last example will win and any cross links will go there. We will have a maven plugin that will fail the build
          on detecting this soon.</p></dd><dt><span class="term">version differences</span></dt><dd><p>in general differences in functionality within a major should go into nested sections and use titles
          like 'Prior to: ##' or 'In version: ##'</p></dd><dt><span class="term">license blocks</span></dt><dd><p>each xml file should contain the license block that exists in the jetty.xml file and a copy has been
          added to the bottom of this page as well for reference. It should occupy the second through eighteeth lines
          while the first line should be the xml descriptor.</p></dd></dl></div><pre class="screen">

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!--
//  ========================================================================
//  Copyright (c) 1995-2012 Mort Bay Consulting Pty. Ltd.
//  ========================================================================
//  All rights reserved. This program and the accompanying materials
//  are made available under the terms of the Eclipse Public License v1.0
//  and Apache License v2.0 which accompanies this distribution.
//
//      The Eclipse Public License is available at
//      http://www.eclipse.org/legal/epl-v10.html
//
//      The Apache License v2.0 is available at
//      http://www.opensource.org/licenses/apache2.0.php
//
//  You may elect to redistribute this code under either of these licenses.
//  ========================================================================
--&gt;

    </pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="community.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="advanced-contributing.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="coding-standards.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Community&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Coding Standards</td></tr></table></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-style:oblique;font-size: 80%">
See an error or something missing?<br></span><span style="font-variant: small-caps; font-weight: bold"><a href="http://github.com/jetty-project/jetty-documentation" style="text-decoration:none">Contribute to this documentation at 
          <span style="color:#fd360b"> Github!</span></a></span><br></div></body></html>