<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Starting and Stopping Jetty</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="jetty, servlet-api, cometd, http, spdy, eclipse, maven, java, software"><link rel="home" href="index.html" title="Jetty : The Definitive Reference"><link rel="up" href="getting-started.html" title="Chapter&nbsp;2.&nbsp;Getting Started With Jetty"><link rel="prev" href="jetty-downloading.html" title="Download Jetty"><link rel="next" href="configuring.html" title="Chapter&nbsp;3.&nbsp;Configuration Options"><link xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" rel="shortcut icon" href="images/favicon.ico"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><center xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0"><a href="http://www.eclipse.org/jetty"><img src="images/jetty-logo.svg" width="80"></a></center><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Starting and Stopping Jetty</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="jetty-downloading.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;2.&nbsp;Getting Started With Jetty</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="configuring.html">Next</a></td></tr></table><hr></div><div xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-variant: small-caps; font-weight: bold"><a href="http://www.webtide.com/support.jsp" style="text-decoration:none">Contact the core Jetty developers at
          <span style="color:#fd360b"> www.webtide.com</span></a></span><br><span style="font-style:oblique;font-size: 80%">
 private support for your internal/customer projects ... custom extensions and distributions ... versioned snapshots for indefinite support ...
 scalability guidance for your apps and Ajax/Comet projects ... development services from 1 day to full product delivery
    </span></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="starting-and-stopping"></a>Starting and Stopping Jetty</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="starting-and-stopping.html#starting-jetty">Starting Jetty</a></span></dt><dt><span class="section"><a href="starting-and-stopping.html#stopping-jetty">Stopping Jetty</a></span></dt><dt><span class="section"><a href="starting-and-stopping.html#d0e611">Restarting Jetty</a></span></dt><dt><span class="section"><a href="starting-and-stopping.html#d0e616">Automatic Startup</a></span></dt><dt><span class="section"><a href="starting-and-stopping.html#d0e621">Additional Topics</a></span></dt></dl></div><p></p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="starting-jetty"></a>Starting Jetty</h3></div></div></div><p>To start the jetty distribution on the default port of 8080 run the following command:</p><p>
      <code class="code">&gt; java -jar start.jar</code>
    </p><p>If everything goes correctly you should see about 20 lines of logged INFO statements that will include lines
    like the following, that inform you of the components being started:</p><pre class="screen">2012-10-22 16:02:24.988:INFO:oejs.Server:main: jetty-9.0.0-M2 2012-10-22 2012-10-22
    16:02:25.040:INFO:oejs.NCSARequestLog:main: Opened
    /home/gregw/src/jetty-9/jetty-distribution/target/distribution/logs/2012_10_22.request.log 2012-10-22 2012-10-22
    16:02:25.115:INFO:oejs.ServerConnector:main: Started ServerConnector@6aeeafb{HTTP/1.1}{0.0.0.0:8080} 2012-10-22
    2012-10-22 16:02:25.348:INFO:oejs.ServerConnector:main: Started ServerConnector@24a45e{SSL-http/1.1}{0.0.0.0:8443}
    2012-10-22 2012-10-22 16:02:25.357:INFO:oejdp.ScanningAppProvider:main: Deployment monitor
    [file:/home/gregw/src/jetty-9/jetty-distribution/target/distribution/webapps/] at interval 1 2012-10-22 2012-10-22
    16:02:25.688:INFO:oejd.DeploymentManager:main: Deployable added:
    /home/gregw/src/jetty-9/jetty-distribution/target/distribution/webapps/test.xml 2012-10-22 2012-10-22
    16:02:25.725:INFO:oejw.WebInfConfiguration:main: Extract
    jar:file:/home/gregw/src/jetty-9/jetty-distribution/target/distribution/webapps/test.war!/ to
    /tmp/jetty-0.0.0.0-8080-test.war-_test-any-/webapp 2012-10-22 16:02:26.097:INFO:oejsh.ContextHandler:main: started
    o.e.j.w.WebAppContext@4e3ceb07{/test,file:/tmp/jetty-0.0.0.0-8080-test.war-_test-any-/webapp/,AVAILABLE}{/test.war}</pre><p>You will also see some warnings like:</p><pre class="screen">2012-10-22 16:02:24.748:WARN::main: test-realm is deployed. DO NOT USE IN PRODUCTION! 2012-10-22 2012-10-22
    16:02:25.582:WARN::main: async-rest webapp is deployed. DO NOT USE IN PRODUCTION!</pre><p>These warnings are telling you that some demonstration web applications and services are deployed and that
    they should be removed before the server is put into production. These warnings can be ignored while testing, or
    you can see LINK:Deploying Web Applications to learn how to remove them.</p><p>You can test the started Jetty by pointing a Browser or any HTTP client at port 8080 of the machine. If you
    are running the browser on the same machine as the Jetty instance, then the URL to use is:</p><p>
      <code class="code">http://localhost:8080/</code>
    </p><p>Your browser or HTTP client should see the Jetty welcome page and be able to follow the links to some test
    web applications.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e412"></a>Changing the Jetty Port</h4></div></div></div><p>If you see the following exception you already have something running on the port that jetty is configured
      to run on and you either need to shut down whatever that process is, or configure jetty to run on another
      port.</p><pre class="screen">Caused by: java.net.BindException: Address already in use at sun.nio.ch.Net.bind0(Native Method) at
      sun.nio.ch.Net.bind(Net.java:344) at sun.nio.ch.Net.bind(Net.java:336) at
      sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:199)</pre><p>Jetty can be made to run on a different port by adding setting the jetty.port Property on the command
      line:</p><p>
        <code class="code">&gt; java -jar start.jar jetty.port=8081</code>
      </p><p>This property can also be set in the <code class="code">start.ini</code> file or by editing the usage of the property in
      the <code class="code">etc/jetty-http.xml</code> configuration file. For more information see <a class="xref" href="configuring-connectors.html" title="Configuring Connectors">Configuring Connectors</a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e436"></a>Starting HTTPS</h4></div></div></div><p>By defaults set in the <code class="code">start.ini</code> file, Jetty starts the HTTP connector that is defined in
      <code class="code">etc/jetty-http.xml</code>. To also start the HTTPS connector defined in <code class="code">
      etc/jetty-https.xml</code> you can simply append this configuration file to the command line:</p><p>
        <code class="code">&gt; java -jar start.jar etc/jetty-https.xml</code>
      </p><p>You can now test this connector by pointing your browser to:</p><p>
        <code class="code">https://localhost:8443/</code>
      </p><p>Alternately you can edit the <code class="code">start.ini</code> file and uncomment the line that includes the https
      configuration file and then start jetty without any extra command line arguments. Note also that the SSL port can
      be changed with the jetty.tls.port Property:</p><p>
        <code class="code">&gt; java -jar start.jar jetty.tls.port=8444 etc/jetty-https.xml</code>
      </p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e472"></a>Deploying Web Applications</h4></div></div></div><p>Jetty by default includes the <code class="code">etc/jetty-deploy.xml</code> file in <code class="code">start.ini</code>, which
      configures a web application Deployer that hot deploys files found in the <code class="code">webapps</code> directory.
      Standard WAR files and jetty configuration files that are placed in the <code class="code">webapps</code> directory will be
      hot deployed to the server with the following conventions:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A directory called <code class="code">example/</code> will be deployed as a standard web application if it contains
          a <code class="code">WEB-INF/</code> subdirectory, otherwise it will be deployed as context of static content. The context
          path will be <code class="code">/example</code> (eg <code class="code">http://localhost:8080/example/</code>) unless the base name is
          <code class="code">root</code>, in which case the context path is /. If the directory name ends with ".d" it is ignored
          (by may be used by explicit configuration).</p></li><li class="listitem"><p>A file called <code class="code">example.war</code> will be deployed as a standard web application with the context
          path /example (eg http://localhost:8080/example/). If he base name is root, then the context path is /. If
          <code class="code">example.war</code> and <code class="code">example/</code> exist, then only the WAR is deployed (which may use the
          directory as an unpack location).</p></li><li class="listitem"><p>An XML file like <code class="code">example.xml</code> will be deployed as a context whose configuration is defined
          by the XML. The context path must be set by the configuration itself. If <code class="code">example.xml</code> and <code class="code">
          example.war</code> exist, then only the XML is deployed (which may use the war in its configuration).</p></li></ul></div><p>If you have a standard web application, it can hot deployed into jetty by copying it into the webapps
      directory. Alternately to test deployment you can copy the provided test web application provided:</p><p>
        <code class="code">&gt; cp webapps/test.war webapps/myapp.war</code>
      </p><p>The Jetty distribution comes with the following deployed in the webapps directory:</p><div class="variablelist"><dl><dt><span class="term">ROOT/</span></dt><dd><p>The Jetty welcome page served as static content.</p></dd><dt><span class="term">test.xml</span></dt><dd><p>The configuration file that deploys the demonstration web application in test.war using the extra
            configuration contained within test.d</p></dd><dt><span class="term">test.war</span></dt><dd><p>The demonstration web application that is configured and deployed by test.xml</p></dd><dt><span class="term">test.d</span></dt><dd><p>A directory containing additional configuration files used by test.xml</p></dd><dt><span class="term">async-rest.war</span></dt><dd><p>A web application demonstration asynchronous REST to Ebay.</p></dd><dt><span class="term">javadoc.xml</span></dt><dd><p>A context configuration that deploys as static content the javadoc directory found at
            jetty.home/javadoc</p></dd></dl></div><p>These demonstration web applications should be removed before using Jetty in production.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e580"></a>Advanced Start.jar</h4></div></div></div><p>The job of the start.jar command is to interpret the command line and start.ini arguments in order to build
      a java classpath and list of properties and configuration files to pass to the main class of the Jetty XML
      configuration mechanism. The start.jar mechanism has many options which are documented in <a class="xref" href="advanced-jetty-start.html" title="Chapter&nbsp;13.&nbsp;Starting Jetty">Chapter&nbsp;13, <i>Starting Jetty</i></a>and can be seen in summary with the command:</p><p>
        <code class="code">&gt; java -jar start.jar --help</code>
      </p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="stopping-jetty"></a>Stopping Jetty</h3></div></div></div><p>If jetty has been simply started from the command line, then it is safe to stop it using the normal Ctrl-C
    key sequence to abort it. This will trigger an orderly shutdown of the server.</p><p>However, the server may be started with some advanced start.jar options so that it runs in the
    background:</p><p>
      <code class="code">&gt; java -jar start.jar STOP.PORT=8881 STOP.KEY=magic --daemon &amp;</code>
    </p><p>This server may now be shutdown with the command:</p><p>
      <code class="code">&gt; java -jar start.jar STOP.PORT=8881 STOP.KEY=magic --stop</code>
    </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e611"></a>Restarting Jetty</h3></div></div></div><p>restarting (with the script, maybe us in automatic startup section)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e616"></a>Automatic Startup</h3></div></div></div><p>the start.sh script, adaption for env</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e621"></a>Additional Topics</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
          <a class="xref" href="advanced-jetty-start.html" title="Chapter&nbsp;13.&nbsp;Starting Jetty">Chapter&nbsp;13, <i>Starting Jetty</i></a>
        </p></li></ol></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="jetty-downloading.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="getting-started.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="configuring.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Download Jetty&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;3.&nbsp;Configuration Options</td></tr></table></div><div xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" style="background-color: #DFF2FD; text-align: left; font-size:80%; font-family: arial, sans; border:thin dotted blue; padding: 4px; "><span style="font-style:oblique;font-size: 80%">
See an error or something missing?<br></span><span style="font-variant: small-caps; font-weight: bold"><a href="http://github.com/jetty-project/jetty-documentation" style="text-decoration:none">Contribute to this documentation at 
          <span style="color:#fd360b"> Github!</span></a></span><br></div></body></html>